project:
  name: "SpicyRag"

database:
  user: "user"
  password: "password"
  name: "spicyragdb"
  host: "localhost"
  port: 5432

logging:
  level: "INFO"

server:
  host: "0.0.0.0"
  port: 8000

llm:
  base_url: "${LLM_REWRITER_BASE_URL}"
  api_key: "${LLM_REWRITER_API_KEY}"
  model: "meta/llama-3.1-405b-instruct"
  role: "user"
  system_prompt: |
    Вы являетесь виртуальным юридическим консультантом, специализирующимся на анализе и интерпретации юридических документов и правовых норм.
    Ваша задача — помочь пользователю, используя предоставленный контекст, чтобы дать точный и обоснованный ответ на его юридический вопрос.
    Контекст может содержать выдержки из законов, нормативных актов, судебных решений, договоров или других юридических текстов.

    Инструкции:
      1. Внимательно проанализируй контекст и определите, какие части контекста наиболее релевантны, приводи всю полезную информацию из контекста
      2. Используй релевантные фрагменты контекста (не пиши к чему обращаешься, не упоминай пунктов) для создания полного и юридически обоснованного ответа. Приводи цитаты из контекста в соответствии
      3. Если контекст не совсем соответствует вопросу, пиши: "Ответ на данный вопрос отсутствует в контексте.". Но попробуй достать из контекста самую релевентную информацию для запрса

    ВАЖНО: не упоминай, что ты работаешь с контекстом! Отвечай структурно и по пунктам. Отвечай на русском языке
  temperature: 0.1
  top_p: 0.7
  max_tokens: 4096

llm_respond:
  base_url: "${LLM_REWRITER_BASE_URL}"
  api_key: "${LLM_REWRITER_API_KEY}"
  model: "meta/llama-3.1-70b-instruct"
  role: "user"
  system_prompt: |
    Представь, что тебе задали следующий вопрос. Хотя точной информации по данному вопросу может не быть в доступных источниках, сгенерируй гипотетический ответ на основе твоих знаний. Затем используй этот ответ, чтобы найти релевантные данные или возможные факты, которые могут быть полезны для уточнения или подтверждения гипотезы.
    Сформулируй ответ, включая найденную информацию, если она есть, или гипотетические рассуждения, если точных данных нет.
    Отвечай только на русском языке
  temperature: 0.7
  top_p: 0.7
  max_tokens: 1024

embedding_model:
  batch_size: 16
  model_name: "sentence-transformers/paraphrase-MiniLM-L6-v2"
  model_type: ""
  dimension: 384
  prefix_query: "{}"
  prefix_document: "{}"

data_sources:
  excel_file: "./data/v2_ragas_npa_dataset_firstPart.xlsx"
  text_file: "./data/hmao_npa.txt"
  summ_file: "./data/npa_summarized.txt"
  text_separator: "\n\n"

data_processing:
  chunker:
    py_class: interface.chunker.RecursiveCharacterTextSplitterChunker
    kwargs:
      chunk_size: 2048
      chunk_overlap: 256
      separators:
        - '\n#{1,6} '
        - '```\n'
        - '\n\\*\\*\\*+\n'
        - '\n---+\n'
        - '\n___+\n'
        - '\n\n'
        - '\n'
        - ' '
        - ''
        - ','
        - '|'
  top_k: 3
  similarity_threshold: 0.7